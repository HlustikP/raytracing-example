\doxysection{shape\+\_\+container.\+h}
\hypertarget{shape__container_8h_source}{}\label{shape__container_8h_source}\index{src/shapes/shape\_container.h@{src/shapes/shape\_container.h}}
\mbox{\hyperlink{shape__container_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{preprocessor}{\#pragma\ once}}
\DoxyCodeLine{00002\ }
\DoxyCodeLine{00003\ \textcolor{preprocessor}{\#include\ <vector>}}
\DoxyCodeLine{00004\ \textcolor{preprocessor}{\#include\ <memory>}}
\DoxyCodeLine{00005\ }
\DoxyCodeLine{00006\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{shape_8h}{shape.h}}"{}}}
\DoxyCodeLine{00007\ }
\DoxyCodeLine{00011\ \textcolor{keyword}{class\ }\mbox{\hyperlink{class_shape_container}{ShapeContainer}}\ final\ :\ \textcolor{keyword}{public}\ \mbox{\hyperlink{class_shape}{Shape}}\ \{}
\DoxyCodeLine{00012\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00013\ \ \ \ \ std::vector<std::shared\_ptr<Shape>>\ \mbox{\hyperlink{class_shape_container_a2e7d1e3d0a0fc21aec8ee8c569d5f4dd}{objects}};}
\DoxyCodeLine{00014\ }
\DoxyCodeLine{00015\ \ \ \ \ \mbox{\hyperlink{class_shape_container_aae60779510d74ad8a7452ab54b5ac22c}{ShapeContainer}}()\ =\ \textcolor{keywordflow}{default};}
\DoxyCodeLine{00016\ \ \ \ \ \textcolor{keyword}{explicit}\ \mbox{\hyperlink{class_shape_container_aeecd2f484f9ed06ce8a6f6d742d263cd}{ShapeContainer}}(\textcolor{keyword}{const}\ std::shared\_ptr<Shape>\&\ shape)\ \{\ \mbox{\hyperlink{class_shape_container_a81b456d8cfcd75221a86533b44c84063}{add}}(shape);\ \}}
\DoxyCodeLine{00017\ }
\DoxyCodeLine{00021\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_shape_container_aee21adc9720836c25a591b093bb268c8}{clear}}()\ \{\ \mbox{\hyperlink{class_shape_container_a2e7d1e3d0a0fc21aec8ee8c569d5f4dd}{objects}}.clear();\ \}}
\DoxyCodeLine{00022\ }
\DoxyCodeLine{00027\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_shape_container_a81b456d8cfcd75221a86533b44c84063}{add}}(\textcolor{keyword}{const}\ std::shared\_ptr<Shape>\&\ \textcolor{keywordtype}{object})\ \{}
\DoxyCodeLine{00028\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_shape_container_a2e7d1e3d0a0fc21aec8ee8c569d5f4dd}{objects}}.push\_back(\textcolor{keywordtype}{object});}
\DoxyCodeLine{00029\ \ \ \ \ \}}
\DoxyCodeLine{00030\ }
\DoxyCodeLine{00037\ \ \ \ \ [[nodiscard]]\ std::optional<Intersection>\ \mbox{\hyperlink{class_shape_container_abfe06fa0fcdc63301e75d58d7748b2d3}{isIntersecting}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{class_ray}{Ray}}\&\ ray,\ \mbox{\hyperlink{class_interval}{Interval}}\ interval)\textcolor{keyword}{\ const\ override\ }\{}
\DoxyCodeLine{00038\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ hit\_anything\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00039\ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ closest\_so\_far\ =\ interval.\mbox{\hyperlink{class_interval_ad61e1eabb44b4bbe36487bd0315e3d12}{max}}();}
\DoxyCodeLine{00040\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_intersection}{Intersection}}\ intersection;}
\DoxyCodeLine{00041\ }
\DoxyCodeLine{00042\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{const}\ \textcolor{keyword}{auto}\&\ \textcolor{keywordtype}{object}\ :\ \mbox{\hyperlink{class_shape_container_a2e7d1e3d0a0fc21aec8ee8c569d5f4dd}{objects}})\ \{}
\DoxyCodeLine{00043\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\textcolor{keyword}{const}\ \textcolor{keyword}{auto}\ result\ =\ object-\/>isIntersecting(ray,\ \mbox{\hyperlink{class_interval}{Interval}}\ \{interval.min(),\ closest\_so\_far\});\ result.has\_value())\ \{}
\DoxyCodeLine{00044\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ hit\_anything\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{00045\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ closest\_so\_far\ =\ intersection.\mbox{\hyperlink{class_intersection_a033072b1892bec18444dbb580063b00a}{t}};}
\DoxyCodeLine{00046\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ intersection\ =\ result.value();}
\DoxyCodeLine{00047\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00048\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00049\ }
\DoxyCodeLine{00050\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ hit\_anything\ ?\ std::optional(intersection)\ :\ std::nullopt;}
\DoxyCodeLine{00051\ \ \ \ \ \}}
\DoxyCodeLine{00052\ \};}

\end{DoxyCode}
